# Indexer (Backend_Profagro)

## Описание

Сервис indexer реализует промышленный пайплайн массовой индексации PDF-руководств и транскрипций корпоративных видеороликов для агротехники AMAZONE и Kverneland. Индексация обеспечивает наполнение гибридного ретривера (OpenSearch + Milvus) и подготовку корпуса знаний для LLM-ассистента.

## Архитектура

- **Извлечение данных**: автоматизированная обработка PDF и аудиовидео-контента (с помощью GPT-4o-mini, whisper-v3-large-turbo).
- **Семантическая индексация**: генерация эмбеддингов (bge-m3) и загрузка в Milvus.
- **Лексическая индексация**: загрузка текстов в OpenSearch.
- **Хранение**: исходные и промежуточные данные сохраняются в Cloud.ru S3.
- **Оркестрация**: Prefect, пайплайны полностью воспроизводимы.

## Технологический стек

- Python 3.10+
- Prefect
- OpenSearch, Milvus
- boto3, PyYAML
- gigachain, gigachain-community, gigachain-core
- Docker

## Запуск

1. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
2. Запустите Prefect flow или основной скрипт индексации:
   ```bash
   python project/flow.py
   ```

## Практическая значимость
- Автоматизация наполнения базы знаний для LLM-ассистента.
- Готовность к масштабированию и расширению на новые типы документов и техники.
