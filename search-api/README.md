# Search API (Backend_Profagro)

## Описание

Search API реализует промышленный гибридный поиск и генерацию ответов на основе Retrieval-Augmented Generation для агротехнических задач. Сервис обеспечивает интеграцию лексического и семантического поиска, реранкинг и генерацию финального ответа с точными ссылками на источники.

## Архитектура

- **Гибридный ретривер**: объединяет лексический поиск (OpenSearch) и семантический поиск (Milvus, embedder: bge-m3).
- **Cross-Encoder-реранкер**: bge-reranker-v2-m3 для фильтрации нерелевантных результатов.
- **LLM**: обращение к GPT-4o (OpenAI) или GigaChat-MAX-2 (СБЕР) для генерации ответа и ссылок.
- **API**: FastAPI, поддержка асинхронных запросов, интеграция с внешними интерфейсами (web, Telegram).
- **Оценка качества**: поддержка RAGAS для автоматизированного тестирования.

## Технологический стек

- Python 3.10+
- FastAPI
- OpenSearch, Milvus
- langgraph, langchain, langchain-community
- openai, langchain-gigachat
- Docker

## Запуск

1. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
2. Запустите сервис:
   ```bash
   uvicorn project.app:app --reload
   ```

## Практическая значимость
- Сервис внедрён в ООО «ПрофАгро», обеспечивает мгновенный доступ к знаниям и снижает ошибки в производстве.
- Готов к масштабированию, расширению на новые типы задач и интеграции с внешними LLM.
